---
- name: Import dir
  ansible.builtin.import_tasks: 00-create-dir.yml
  when:
    - ssl_domain == "selfsigned"
  tags:
    - cert

- name: Import ssl
  ansible.builtin.import_tasks: 05-create-cert.yml
  when:
    - ssl_notify is defined
    - ssl_domain == "selfsigned"
  notify:
    - "{{ ssl_notify }}"
  tags:
    - cert

- name: Import ssl
  ansible.builtin.import_tasks: 05-create-cert.yml
  when:
    - ssl_notify is not defined
    - ssl_domain == "selfsigned"
  tags:
    - cert
