---
- ansible.builtin.import_tasks: 05-prerequisites.yml
  when: ansible_distribution == 'Ubuntu'
  tags:
    - k8s

- ansible.builtin.import_tasks: 10-containerd.yml
  tags:
    - k8s

- ansible.builtin.import_tasks: 15-runc-cni.yml
  tags:
    - k8s

- ansible.builtin.import_tasks: 20-runtimes-configure.yml
  tags:
    - k8s

- ansible.builtin.import_tasks: 25-prefly-k8s.yml
  when: ansible_distribution == 'Ubuntu'
  tags:
    - k8s
    - k8s-repo

- ansible.builtin.import_tasks: 30-kube-services.yml
  when: ansible_distribution == 'Ubuntu'
  tags:
    - k8s

- ansible.builtin.import_tasks: 35-k8s-init-cls.yml
  tags:
    - k8s
    - k8s-init

- ansible.builtin.import_tasks: 40-cni-calico.yml
  when: cni_network == 'calico'
  tags:
    - k8s
    - k8s-calico

#- ansible.builtin.import_tasks: 43-cni-cilium.yml
#  when: cni_network == 'cilium'
#  tags: [cni]


- ansible.builtin.import_tasks:  95-reset-k8s-cls.yml
  tags: ['never', 'k8s-reset']
