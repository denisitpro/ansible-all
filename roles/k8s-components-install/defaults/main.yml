---
# Helm chart versions for all components
# Centralized version management for easier updates and overview
helm_longhorn_version: "1.10.0"
helm_ingress_nginx_version: "4.14.0"
helm_prometheus_version: "79.0.0"
helm_cert_manager_version: "1.19.0"
helm_argocd_version: "9.0.5"
helm_loki_version: "6.42.0"
helm_vector_version: "0.46.0"
helm_teleport_version: "18.2.10"
helm_vso_version: "1.0.1"
helm_vai_version: "0.31.0"
metrics_server_helm_version: "3.12.1"
helm_kong_version: "2.52.0"

helm_componets_list:
  - longhorn
  - ingress-nginx
  - prometheus
  - teleport-agent
  - vso
  - vai
  - cert-manager
  - hubble-ui
  - metrics-server
  - loki
  # - vector
  # - kong

argocd_github_client_id: "{{ vault_dict_users_secret_g2.argocd_github.client_id | default('set_me') }}"
argocd_github_secret_id: "{{ vault_dict_users_secret_g2.argocd_github.secret_id | default('set_me') }}"

argocd_dockerhub_oci_name: "{{ vault_dict_users_secret_g2.argocd_dockerhub_oci_cred.helm_charts_v1_pull_login | default('dockerhub_org_name') }}"
argocd_dockerhub_oci_pass: "{{ vault_dict_users_secret_g2.argocd_dockerhub_oci_cred.helm_charts_v1_pull_token | default('set_me') }}"

teleport_k8s_agent_token: "{{ vault_dict_users_secret_g2.teleport_k8s_agent_token.value | default('set_me') }}"

# vault g1
# k8s_cert_manager_cloudflare_token: "{{ vault_dict_users_secret.k8s_cert_manager_cloudflare_token | default('set_me') }}"

# vault g2
k8s_cert_manager_cloudflare_token: "{{ vault_dict_users_secret_g2.k8s_cert_manager_cloudflare_token.k8s_cert_manager_cloudflare_token | default('set_me') }}"

# Cert-manager configuration
k8s_cert_manager_type: "cloudflare"  # http or cloudflare

k8s_teleport_agent_kub_cluster_base_labels:
  region: "unknown"
  platform: "amd64"
  stand: "example"

teleport_app_acl_access_level:
  - name: "argocd-example"
    app_acl_level: [900]

k8s_teleport_agent_kubernetes_discovery:
  - types: ["app"]
    namespaces: ["example-app"]
    labels:
      app_acl_level900: "900"

# Discovery group for unique identification of teleport agents
k8s_teleport_agent_discovery_group: "{{ k8s_cls_name | default('k8s-example.example.com') }}"


# argocd_policy_csv_admins:
#   - org:team

# cloudflare ip rane  https://www.cloudflare.com/ips/
# nginx_ingress_real_ip:
#   ipv4:
#     - 173.245.48.0/20
#     - 103.21.244.0/22
#     - 103.22.200.0/22
#     - 103.31.4.0/22
#     - 141.101.64.0/18
#     - 108.162.192.0/18
#     - 190.93.240.0/20
#     - 188.114.96.0/20
#     - 197.234.240.0/22
#     - 198.41.128.0/17
#     - 162.158.0.0/15
#     - 104.16.0.0/13
#     - 104.24.0.0/14
#     - 172.64.0.0/13
#     - 131.0.72.0/22
#   ipv6:
#     - 2400:cb00::/32
#     - 2606:4700::/32
#     - 2803:f800::/32
#     - 2405:b500::/32
#     - 2405:8100::/32
#     - 2a06:98c0::/29
#     - 2c0f:f248::/32

# Pod monitoring configuration - Prometheus will monitor pods with specific selectors
k8s_pod_monitoring_enabled: "true"

# Loki monitoring configuration - Enable ServiceMonitor for prometheus-operator
k8s_loki_monitoring_enabled: "true"

# Pod monitoring configuration
k8s_pod_monitoring_config:
  # Which pods to monitor (by labels/annotations)
  selector:
    matchLabels:
      prometheus.io/scrape: "true"

  # Monitor pods in ALL namespaces (dynamic discovery)
  namespaceSelector: {}

# Ingress node labeling from Terraform state
# These labels will be applied to nodes with role=ingress in Terraform
k8s_ingress_label_key: "ingress.nginx/enabled"
k8s_ingress_label_value: "enabled"
