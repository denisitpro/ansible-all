---
- name: check name format string or ip address
  ansible.builtin.set_fact:
    name_check_str: "{{ inventory_hostname is ansible.utils.ipv4 }}"

- name: print debug name
  ansible.builtin.debug:
    msg: Ansible inventory name ip address ? {{ name_check_str }}

- name: Set hosts file - hetzner
  ansible.builtin.template:
    src: hosts.j2
    dest: /etc/hosts
    mode: 0644
  when: not name_check_str
  notify: restart systemd-resolved

- name: Set a hostname  - hetzner
  ansible.builtin.hostname:
    name: "{{ inventory_hostname }}"
  when: not name_check_str
  notify: restart systemd-resolved



