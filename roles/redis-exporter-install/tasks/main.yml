---
- ansible.builtin.import_tasks: 05-prefly.yml
  when: redis_exporter_unit is not defined or not redis_exporter_unit | bool
  tags:
    - redis-exporter
    - redis-exporter-prefly

- ansible.builtin.import_tasks: 20-install.yml
  when: redis_exporter_unit is defined and redis_exporter_unit | bool
  tags:
    - redis-exporter
    - redis-exporter-unit

- ansible.builtin.import_tasks: 40-config.yml
  when: redis_exporter_unit is defined and redis_exporter_unit | bool
  tags:
    - redis-exporter
    - redis-exporter-unit
    - redis-exporter-config

- ansible.builtin.import_tasks: 50-compose.yml
  when: redis_exporter_unit is not defined or not redis_exporter_unit | bool
  tags:
    - redis-exporter
    - redis-exporter-docker
    - redis-exporter-compose

- ansible.builtin.import_tasks: 65-consul-reg.yml
  when: consul_monitoring_disable is not defined
  tags:
    - redis-exporter
    - consul
    - consul-reg
    - consul-owner
    - redis-exporter-reg

- ansible.builtin.import_tasks: 99-clean.yml
  tags:
    - never
    - redis-exporter-clean
